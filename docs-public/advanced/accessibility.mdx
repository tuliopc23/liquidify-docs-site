# Accessibility

## Building Inclusive Experiences

LiqUIdify is designed with accessibility as a core principle, not an afterthought. Every component meets WCAG 2.1 AA standards and follows Apple's accessibility guidelines to ensure your applications are usable by everyone.

## Accessibility Standards

### WCAG 2.1 AA Compliance

All LiqUIdify components are tested against Web Content Accessibility Guidelines:

- **Perceivable** - Information is presentable in ways users can perceive
- **Operable** - Interface components are operable by all users
- **Understandable** - Information and UI operation are understandable
- **Robust** - Content can be interpreted by assistive technologies

### Apple Accessibility Alignment

Components follow Apple's accessibility patterns familiar to users of iOS, iPadOS, and macOS:

- **VoiceOver optimization** - Proper labeling and navigation flow
- **Switch Control support** - Keyboard and alternative input methods
- **Dynamic Type** - Respects user font size preferences
- **Reduced Motion** - Honors motion preference settings

## Built-in Accessibility Features

### Keyboard Navigation

Every interactive component supports full keyboard operation:

```tsx
import { Button } from 'liquidify-react/button'
import { Dialog } from 'liquidify-react/dialog'

// Automatic keyboard support
<Button>Accessible by default</Button>

// Focus management in dialogs
<Dialog.Root>
  <Dialog.Trigger asChild>
    <Button>Open Dialog</Button>
  </Dialog.Trigger>
  <Dialog.Content>
    {/* Focus automatically trapped */}
    <Dialog.Title>Dialog Title</Dialog.Title>
    <Dialog.Description>
      Focus moves here when dialog opens
    </Dialog.Description>
  </Dialog.Content>
</Dialog.Root>
```

**Keyboard patterns supported:**
- **Tab/Shift+Tab** - Navigate between focusable elements
- **Enter/Space** - Activate buttons and controls
- **Arrow keys** - Navigate within composite components
- **Escape** - Close modals and overlays
- **Home/End** - Navigate to first/last items in lists

### Screen Reader Support

Components include comprehensive screen reader support:

```tsx
import { Progress } from 'liquidify-react/progress'
import { Slider } from 'liquidify-react/slider'

// Progress with announcements
<Progress 
  value={75} 
  aria-label="Upload progress"
  aria-describedby="upload-status"
>
  <Progress.Track>
    <Progress.Range />
  </Progress.Track>
</Progress>
<div id="upload-status">75% complete</div>

// Slider with value announcements
<Slider
  min={0}
  max={100}
  value={[50]}
  aria-label="Volume"
  formatValue={(value) => `${value} percent`}
>
  <Slider.Track>
    <Slider.Range />
    <Slider.Thumb />
  </Slider.Track>
</Slider>
```

### Focus Management

Automatic focus management for complex interactions:

```tsx
import { Tabs } from 'liquidify-react/tabs'
import { Menu } from 'liquidify-react/menu'

// Automatic focus management in tabs
<Tabs.Root defaultValue="tab1">
  <Tabs.List aria-label="Account settings">
    <Tabs.Trigger value="tab1">Profile</Tabs.Trigger>
    <Tabs.Trigger value="tab2">Security</Tabs.Trigger>
  </Tabs.List>
  <Tabs.Content value="tab1">
    {/* Focus moves to content when tab is selected */}
  </Tabs.Content>
</Tabs.Root>

// Focus returns to trigger after menu closes
<Menu.Root>
  <Menu.Trigger asChild>
    <Button>Open Menu</Button>
  </Menu.Trigger>
  <Menu.Content>
    <Menu.Item>Profile</Menu.Item>
    <Menu.Item>Settings</Menu.Item>
  </Menu.Content>
</Menu.Root>
```

## Motion and Animation

### Reduced Motion Support

All animations respect `prefers-reduced-motion`:

```tsx
import { Toast } from 'liquidify-react/toast'
import { Dialog } from 'liquidify-react/dialog'

// Animations automatically respect user preferences
<Toast.Root>
  {/* Smooth animation OR instant appearance based on user setting */}
  <Toast.Title>Success!</Toast.Title>
</Toast.Root>

<Dialog.Root>
  <Dialog.Content>
    {/* Fade/scale animation OR immediate display */}
    Content appears based on motion preference
  </Dialog.Content>
</Dialog.Root>
```

### CSS Implementation

Components use CSS-based motion queries:

```css
/* Built into LiqUIdify components */
@media (prefers-reduced-motion: reduce) {
  .liquidify-dialog-content {
    animation: none;
    transition: none;
  }
}

@media (prefers-reduced-motion: no-preference) {
  .liquidify-dialog-content {
    animation: slide-up 0.2s ease-out;
  }
}
```

## Color and Contrast

### High Contrast Support

Components maintain accessibility across color schemes:

```tsx
import { Badge } from 'liquidify-react/badge'
import { Button } from 'liquidify-react/button'

// Automatic contrast adjustment
<Badge variant="success">Success</Badge>
<Badge variant="warning">Warning</Badge>
<Badge variant="error">Error</Badge>

// Focus indicators with sufficient contrast
<Button variant="outline">
  High contrast focus ring
</Button>
```

### Color Scheme Adaptation

Components adapt to system color schemes:

```tsx
// Components automatically adapt to:
// - Light mode
// - Dark mode  
// - High contrast mode
// - Increased contrast preferences

<Card.Root>
  {/* Background automatically adjusts for optimal contrast */}
  <Card.Header>
    <Card.Title>Adaptive Content</Card.Title>
  </Card.Header>
</Card.Root>
```

## Best Practices

### Semantic HTML

Use semantic HTML elements in your composition:

```tsx
import { Button } from 'liquidify-react/button'
import { Card } from 'liquidify-react/card'

// Good: Semantic structure
<main>
  <section>
    <h1>Page Title</h1>
    <Card.Root as="article">
      <Card.Header>
        <Card.Title as="h2">Article Title</Card.Title>
      </Card.Header>
      <Card.Content>
        <p>Article content...</p>
      </Card.Content>
      <Card.Footer>
        <Button as="a" href="/read-more">
          Read More
        </Button>
      </Card.Footer>
    </Card.Root>
  </section>
</main>
```

### Accessible Labels

Provide clear, descriptive labels:

```tsx
import { Input } from 'liquidify-react/input'
import { Checkbox } from 'liquidify-react/checkbox'

// Explicit labels
<div>
  <label htmlFor="email">Email Address</label>
  <Input id="email" type="email" placeholder="Enter your email" />
</div>

// Checkbox with accessible labeling
<Checkbox.Root>
  <Checkbox.Control />
  <Checkbox.Label>
    I agree to the <a href="/terms">Terms and Conditions</a>
  </Checkbox.Label>
</Checkbox.Root>

// Complex controls with descriptions
<fieldset>
  <legend>Notification Preferences</legend>
  <Checkbox.Root>
    <Checkbox.Control />
    <Checkbox.Label>Email notifications</Checkbox.Label>
  </Checkbox.Root>
  <p id="email-desc">Receive updates about your account via email</p>
</fieldset>
```

### Error Handling

Provide accessible error feedback:

```tsx
import { Input } from 'liquidify-react/input'
import { Alert } from 'liquidify-react/alert'

// Error states with proper announcements
<div>
  <label htmlFor="password">Password</label>
  <Input 
    id="password"
    type="password"
    aria-invalid={hasError}
    aria-describedby={hasError ? "password-error" : undefined}
  />
  {hasError && (
    <Alert.Root variant="error" id="password-error" role="alert">
      <Alert.Title>Error</Alert.Title>
      <Alert.Description>
        Password must be at least 8 characters long
      </Alert.Description>
    </Alert.Root>
  )}
</div>
```

## Testing Accessibility

### Automated Testing

Use accessibility testing tools:

```bash
# Install testing dependencies
npm install -D @axe-core/react jest-axe @testing-library/jest-dom

# Example test
import { axe, toHaveNoViolations } from 'jest-axe'
import { render } from '@testing-library/react'
import { Button } from 'liquidify-react/button'

expect.extend(toHaveNoViolations)

test('Button has no accessibility violations', async () => {
  const { container } = render(<Button>Click me</Button>)
  const results = await axe(container)
  expect(results).toHaveNoViolations()
})
```

### Manual Testing

Regular manual accessibility testing:

1. **Keyboard navigation** - Tab through your interface
2. **Screen reader testing** - Use VoiceOver (macOS) or NVDA (Windows)
3. **Color contrast** - Verify text meets contrast requirements
4. **Zoom testing** - Test at 200% zoom level
5. **Motion testing** - Test with reduced motion enabled

### Browser Testing

Test across different browsers and assistive technologies:

- **Safari + VoiceOver** - Primary macOS screen reader
- **Chrome + NVDA** - Windows screen reader testing
- **Firefox + JAWS** - Professional screen reader testing
- **Mobile Safari + VoiceOver** - iOS accessibility testing

## Accessibility Tools

### Browser Extensions

Recommended accessibility testing extensions:

- **axe DevTools** - Automated accessibility scanning
- **WAVE** - Web accessibility evaluation
- **Lighthouse** - Google's accessibility audit
- **Colour Contrast Analyser** - Color contrast verification

### System Settings

Test with accessibility preferences enabled:

```bash
# macOS: Enable accessibility features
System Preferences â†’ Accessibility

# Key settings to test:
# - VoiceOver
# - Reduce Motion
# - Increase Contrast
# - Larger Text
```

## Common Patterns

### Loading States

Provide accessible loading feedback:

```tsx
import { Progress } from 'liquidify-react/progress'
import { Spinner } from 'liquidify-react/spinner'

// Progress with announcements
<div role="region" aria-live="polite" aria-label="Loading progress">
  <Progress value={progress} aria-label={`Loading ${progress}%`}>
    <Progress.Track>
      <Progress.Range />
    </Progress.Track>
  </Progress>
</div>

// Spinner with proper labeling
<div role="status" aria-live="polite">
  <Spinner aria-label="Loading content" />
  <span className="sr-only">Loading content, please wait...</span>
</div>
```

### Form Validation

Accessible form validation patterns:

```tsx
import { Input } from 'liquidify-react/input'
import { Button } from 'liquidify-react/button'

function SignupForm() {
  const [errors, setErrors] = useState({})
  
  return (
    <form noValidate>
      <div>
        <label htmlFor="email">Email</label>
        <Input
          id="email"
          type="email"
          aria-invalid={errors.email ? 'true' : 'false'}
          aria-describedby={errors.email ? 'email-error' : 'email-hint'}
        />
        <div id="email-hint">We'll never share your email</div>
        {errors.email && (
          <div id="email-error" role="alert" aria-live="polite">
            {errors.email}
          </div>
        )}
      </div>
      
      <Button type="submit">Sign Up</Button>
    </form>
  )
}
```

## Resources

### Documentation
- **[WCAG 2.1 Guidelines](https://www.w3.org/WAI/WCAG21/quickref/)** - Official accessibility standards
- **[Apple Accessibility](https://developer.apple.com/accessibility/)** - Apple's accessibility resources
- **[Ark UI Accessibility](https://ark-ui.com/docs/overview/accessibility)** - Underlying accessibility patterns

### Tools
- **[axe-core](https://github.com/dequelabs/axe-core)** - Accessibility testing engine
- **[Pa11y](https://pa11y.org/)** - Command line accessibility testing
- **[Accessible Colors](https://accessible-colors.com/)** - Color contrast checker

### Community
- **[WebAIM](https://webaim.org/)** - Web accessibility resources and training
- **[A11y Project](https://www.a11yproject.com/)** - Community-driven accessibility checklist

---

**Remember**: Accessibility is an ongoing practice, not a one-time checklist. Test regularly with real users and assistive technologies to ensure your applications truly serve everyone.

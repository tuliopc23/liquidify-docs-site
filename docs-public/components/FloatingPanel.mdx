# FloatingPanel

## Summary
A draggable, resizable floating panel component with liquid glass styling. Perfect for creating floating windows, tool palettes, or secondary content areas that users can reposition and resize.

### Import
```ts
import { FloatingPanel } from 'liquidify-react/ark-ui/floatingPanel'
```

## Examples

### Basic Floating Panel
```tsx
import { FloatingPanel } from 'liquidify-react/ark-ui/floatingPanel'

function BasicFloatingPanel() {
  return (
    <FloatingPanel.Root>
      <FloatingPanel.Trigger asChild>
        <button>Open Panel</button>
      </FloatingPanel.Trigger>
      <FloatingPanel.Positioner>
        <FloatingPanel.Content>
          <FloatingPanel.Header>
            <FloatingPanel.Title>Floating Panel</FloatingPanel.Title>
            <FloatingPanel.CloseTrigger>×</FloatingPanel.CloseTrigger>
          </FloatingPanel.Header>
          <div style={{ padding: '16px' }}>
            <p>This is the content of the floating panel.</p>
          </div>
        </FloatingPanel.Content>
      </FloatingPanel.Positioner>
    </FloatingPanel.Root>
  )
}
```

### Draggable Panel
```tsx
import { FloatingPanel } from 'liquidify-react/ark-ui/floatingPanel'

function DraggablePanel() {
  return (
    <FloatingPanel.Root>
      <FloatingPanel.Trigger asChild>
        <button>Open Draggable Panel</button>
      </FloatingPanel.Trigger>
      <FloatingPanel.Positioner>
        <FloatingPanel.Content>
          <FloatingPanel.Header>
            <FloatingPanel.DragTrigger>
              <FloatingPanel.Title>Drag me around!</FloatingPanel.Title>
            </FloatingPanel.DragTrigger>
            <FloatingPanel.CloseTrigger>×</FloatingPanel.CloseTrigger>
          </FloatingPanel.Header>
          <div style={{ padding: '16px' }}>
            <p>You can drag this panel by its header.</p>
          </div>
        </FloatingPanel.Content>
      </FloatingPanel.Positioner>
    </FloatingPanel.Root>
  )
}
```

### Resizable Panel
```tsx
import { FloatingPanel } from 'liquidify-react/ark-ui/floatingPanel'

function ResizablePanel() {
  return (
    <FloatingPanel.Root>
      <FloatingPanel.Trigger asChild>
        <button>Open Resizable Panel</button>
      </FloatingPanel.Trigger>
      <FloatingPanel.Positioner>
        <FloatingPanel.Content>
          <FloatingPanel.Header>
            <FloatingPanel.Title>Resizable Panel</FloatingPanel.Title>
            <FloatingPanel.CloseTrigger>×</FloatingPanel.CloseTrigger>
          </FloatingPanel.Header>
          <div style={{ padding: '16px', minHeight: '200px' }}>
            <p>This panel can be resized from the bottom-right corner.</p>
          </div>
          <FloatingPanel.ResizeTrigger />
        </FloatingPanel.Content>
      </FloatingPanel.Positioner>
    </FloatingPanel.Root>
  )
}
```

### Tool Palette
```tsx
import { FloatingPanel } from 'liquidify-react/ark-ui/floatingPanel'
import { IconButton } from 'liquidify-react/iconButton'

function ToolPalette() {
  return (
    <FloatingPanel.Root defaultOpen>
      <FloatingPanel.Positioner style={{ top: '20px', right: '20px' }}>
        <FloatingPanel.Content style={{ width: '200px' }}>
          <FloatingPanel.Header>
            <FloatingPanel.DragTrigger>
              <FloatingPanel.Title>Tools</FloatingPanel.Title>
            </FloatingPanel.DragTrigger>
          </FloatingPanel.Header>
          <div style={{ padding: '16px', display: 'flex', flexDirection: 'column', gap: '8px' }}>
            <IconButton icon="edit" aria-label="Edit" />
            <IconButton icon="copy" aria-label="Copy" />
            <IconButton icon="trash-2" aria-label="Delete" />
            <IconButton icon="settings" aria-label="Settings" />
          </div>
        </FloatingPanel.Content>
      </FloatingPanel.Positioner>
    </FloatingPanel.Root>
  )
}
```

### Modal-like Panel
```tsx
import { FloatingPanel } from 'liquidify-react/ark-ui/floatingPanel'

function ModalPanel() {
  return (
    <FloatingPanel.Root modal>
      <FloatingPanel.Trigger asChild>
        <button>Open Modal Panel</button>
      </FloatingPanel.Trigger>
      <FloatingPanel.Positioner>
        <FloatingPanel.Content style={{ width: '400px', maxHeight: '80vh' }}>
          <FloatingPanel.Header>
            <FloatingPanel.Title>Modal Panel</FloatingPanel.Title>
            <FloatingPanel.CloseTrigger>×</FloatingPanel.CloseTrigger>
          </FloatingPanel.Header>
          <div style={{ padding: '16px', overflow: 'auto' }}>
            <h3>Modal Content</h3>
            <p>This panel behaves like a modal - it traps focus and prevents interaction with the background.</p>
            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>
          </div>
        </FloatingPanel.Content>
      </FloatingPanel.Positioner>
    </FloatingPanel.Root>
  )
}
```

### Controlled Panel
```tsx
import { FloatingPanel } from 'liquidify-react/ark-ui/floatingPanel'
import { useState } from 'react'

function ControlledPanel() {
  const [open, setOpen] = useState(false)

  return (
    <>
      <button onClick={() => setOpen(true)}>Open Panel</button>
      <FloatingPanel.Root open={open} onOpenChange={setOpen}>
        <FloatingPanel.Positioner>
          <FloatingPanel.Content>
            <FloatingPanel.Header>
              <FloatingPanel.Title>Controlled Panel</FloatingPanel.Title>
              <FloatingPanel.CloseTrigger>×</FloatingPanel.CloseTrigger>
            </FloatingPanel.Header>
            <div style={{ padding: '16px' }}>
              <p>This panel's open state is controlled externally.</p>
              <button onClick={() => setOpen(false)}>Close from inside</button>
            </div>
          </FloatingPanel.Content>
        </FloatingPanel.Positioner>
      </FloatingPanel.Root>
    </>
  )
}
```

## API Reference

### FloatingPanel.Root
The root container that manages the panel's state.

| Prop | Type | Default | Description |
|------|------|---------|-------------|
| `open` | `boolean` | - | Controls the open state (controlled mode) |
| `onOpenChange` | `(open: boolean) => void` | - | Callback when open state changes |
| `defaultOpen` | `boolean` | `false` | Initial open state (uncontrolled mode) |
| `modal` | `boolean` | `false` | Whether the panel should behave as a modal |
| `closeOnEscape` | `boolean` | `true` | Close panel on Escape key |
| `closeOnInteractOutside` | `boolean` | `true` | Close panel when clicking outside |

### FloatingPanel.Trigger
The element that opens the panel when clicked.

| Prop | Type | Default | Description |
|------|------|---------|-------------|
| `asChild` | `boolean` | `false` | Merge props onto child element |
| `children` | `ReactNode` | - | Trigger content |

### FloatingPanel.Positioner
Positions the panel content on screen.

| Prop | Type | Default | Description |
|------|------|---------|-------------|
| `children` | `ReactNode` | - | Positioned content |

### FloatingPanel.Content
The main content container of the panel.

| Prop | Type | Default | Description |
|------|------|---------|-------------|
| `children` | `ReactNode` | - | Panel content |
| `style` | `CSSProperties` | - | Inline styles |

### FloatingPanel.Header
Optional header section for the panel.

| Prop | Type | Default | Description |
|------|------|---------|-------------|
| `children` | `ReactNode` | - | Header content |

### FloatingPanel.Title
The title text for the panel.

| Prop | Type | Default | Description |
|------|------|---------|-------------|
| `children` | `ReactNode` | - | Title content |

### FloatingPanel.CloseTrigger
Button that closes the panel.

| Prop | Type | Default | Description |
|------|------|---------|-------------|
| `children` | `ReactNode` | - | Close button content |
| `asChild` | `boolean` | `false` | Merge props onto child element |

### FloatingPanel.DragTrigger
Makes the wrapped content draggable.

| Prop | Type | Default | Description |
|------|------|---------|-------------|
| `children` | `ReactNode` | - | Draggable content |

### FloatingPanel.ResizeTrigger
Adds a resize handle to the panel.

| Prop | Type | Default | Description |
|------|------|---------|-------------|
| `children` | `ReactNode` | - | Custom resize handle (optional) |

## Accessibility

The FloatingPanel component follows WAI-ARIA guidelines for dialog patterns:

- **Focus Management**: Automatically focuses the first focusable element when opened
- **Keyboard Navigation**: Full keyboard support with Tab navigation
- **Screen Reader**: Proper ARIA attributes and live regions
- **Modal Mode**: Focus trapping and backdrop interaction prevention
- **Escape Key**: Closes panel by default (configurable)

### ARIA Attributes
- `role="dialog"` for modal panels
- `aria-labelledby` pointing to the title
- `aria-describedby` for panel content
- `aria-modal="true"` for modal behavior

### Keyboard Shortcuts
- `Tab`: Navigate between focusable elements
- `Shift + Tab`: Navigate backwards
- `Escape`: Close panel (when enabled)
- `Enter/Space`: Activate buttons and triggers

## Best Practices

### Do's
- Use clear, descriptive titles for panel content
- Provide close buttons in accessible locations
- Consider modal mode for critical interactions
- Position panels to avoid viewport edges
- Use appropriate sizing based on content

### Don'ts
- Don't hide the close button (always provide a way to close)
- Don't make panels too small for touch interaction
- Don't overuse floating panels on mobile devices
- Don't nest floating panels within each other
- Don't rely solely on dragging for repositioning on touch devices

### Performance Tips
- Use `React.memo` for complex panel content
- Avoid unnecessary re-renders by controlling state appropriately
- Consider lazy loading for heavy panel content
- Use CSS containment for better performance

### Positioning Guidelines
- **Top panels**: Use for tooltips, menus, notifications
- **Center panels**: Use for modals, forms, confirmations
- **Corner panels**: Use for tool palettes, sidebars
- **Edge panels**: Use for drawers, side panels

## Related Components
- [Dialog](/components/Dialog) - Modal dialogs for focused interactions
- [Popover](/components/Popover) - Non-modal floating content
- [Tooltip](/components/Tooltip) - Small floating information
- [Drawer](/components/Drawer) - Slide-out panels from screen edges

---
layout: ../../../layouts/DocsLayout.astro
---

# FileUpload

Drag-and-drop file upload with progress tracking and validation. Supports multiple files, file type restrictions, and preview functionality.

## Import

```tsx
import { FileUpload } from "liquidify-react/file-upload"
```

## Basic Usage

```tsx
export default function Example() {
	return (
		<FileUpload.Root maxFiles={3} accept="image/*">
			<FileUpload.Dropzone>
				<FileUpload.Label>Upload Images</FileUpload.Label>
				<FileUpload.Description>
					Drag and drop files here or click to browse
				</FileUpload.Description>
				<FileUpload.Trigger asChild>
					<Button>
						<UploadIcon />
						Choose Files
					</Button>
				</FileUpload.Trigger>
			</FileUpload.Dropzone>
			
			<FileUpload.ItemGroup>
				<FileUpload.Context>
					{({ acceptedFiles }) => 
						acceptedFiles.map((file, id) => (
							<FileUpload.Item key={id} file={file}>
								<FileUpload.ItemPreview type="image/*">
									<FileUpload.ItemPreviewImage />
								</FileUpload.ItemPreview>
								<FileUpload.ItemName />
								<FileUpload.ItemSizeText />
								<FileUpload.ItemDeleteTrigger asChild>
									<Button size="sm" variant="ghost">
										<XIcon />
									</Button>
								</FileUpload.ItemDeleteTrigger>
							</FileUpload.Item>
						))
					}
				</FileUpload.Context>
			</FileUpload.ItemGroup>
			
			<FileUpload.HiddenInput />
		</FileUpload.Root>
	)
}
```

## Single File Upload

```tsx
export default function SingleFileExample() {
	return (
		<FileUpload.Root maxFiles={1} accept=".pdf,.doc,.docx">
			<FileUpload.Dropzone>
				<FileUpload.Label>Upload Document</FileUpload.Label>
				<FileUpload.Description>
					PDF or Word document only
				</FileUpload.Description>
				<FileUpload.Trigger asChild>
					<Button variant="secondary">
						<DocumentIcon />
						Select Document
					</Button>
				</FileUpload.Trigger>
			</FileUpload.Dropzone>
			
			<FileUpload.ItemGroup>
				<FileUpload.Context>
					{({ acceptedFiles }) => 
						acceptedFiles.map((file, id) => (
							<FileUpload.Item key={id} file={file}>
								<div style={{ display: "flex", alignItems: "center", gap: "1rem" }}>
									<DocumentIcon />
									<div>
										<FileUpload.ItemName />
										<FileUpload.ItemSizeText style={{ fontSize: "0.875rem", color: "#666" }} />
									</div>
									<FileUpload.ItemDeleteTrigger asChild>
										<Button size="sm" variant="ghost">
											<TrashIcon />
										</Button>
									</FileUpload.ItemDeleteTrigger>
								</div>
							</FileUpload.Item>
						))
					}
				</FileUpload.Context>
			</FileUpload.ItemGroup>
			
			<FileUpload.HiddenInput />
		</FileUpload.Root>
	)
}
```

## With Validation

```tsx
export default function ValidationExample() {
	const maxFileSize = 5 * 1024 * 1024 // 5MB
	
	return (
		<FileUpload.Root 
			maxFiles={5}
			maxFileSize={maxFileSize}
			accept="image/jpeg,image/png,image/gif"
		>
			<FileUpload.Dropzone>
				<FileUpload.Label>Upload Images</FileUpload.Label>
				<FileUpload.Description>
					JPEG, PNG, or GIF up to 5MB each (max 5 files)
				</FileUpload.Description>
				<FileUpload.Trigger asChild>
					<Button>Choose Images</Button>
				</FileUpload.Trigger>
			</FileUpload.Dropzone>
			
			<FileUpload.ItemGroup>
				<FileUpload.Context>
					{({ acceptedFiles, rejectedFiles }) => (
						<>
							{acceptedFiles.map((file, id) => (
								<FileUpload.Item key={id} file={file}>
									<FileUpload.ItemPreview type="image/*">
										<FileUpload.ItemPreviewImage />
									</FileUpload.ItemPreview>
									<div>
										<FileUpload.ItemName />
										<FileUpload.ItemSizeText />
									</div>
									<FileUpload.ItemDeleteTrigger asChild>
										<Button size="sm" variant="ghost">Remove</Button>
									</FileUpload.ItemDeleteTrigger>
								</FileUpload.Item>
							))}
							
							{rejectedFiles.map((fileRejection, id) => (
								<div key={id} style={{ 
									padding: "1rem", 
									border: "1px solid red", 
									borderRadius: "8px",
									backgroundColor: "#fef2f2"
								}}>
									<div style={{ fontWeight: "500", color: "red" }}>
										{fileRejection.file.name}
									</div>
									<div style={{ fontSize: "0.875rem", color: "#666" }}>
										{fileRejection.errors.map(error => error.message).join(", ")}
									</div>
								</div>
							))}
						</>
					)}
				</FileUpload.Context>
			</FileUpload.ItemGroup>
			
			<FileUpload.HiddenInput />
		</FileUpload.Root>
	)
}
```

## Controlled State

```tsx
import { useState } from "react"

export default function ControlledExample() {
	const [files, setFiles] = useState([])
	
	return (
		<div>
			<p>Files selected: {files.length}</p>
			
			<FileUpload.Root 
				files={files}
				onFilesChange={setFiles}
				maxFiles={3}
			>
				<FileUpload.Dropzone>
					<FileUpload.Label>Controlled Upload</FileUpload.Label>
					<FileUpload.Description>
						External state management
					</FileUpload.Description>
					<FileUpload.Trigger asChild>
						<Button>Select Files</Button>
					</FileUpload.Trigger>
				</FileUpload.Dropzone>
				
				<FileUpload.ItemGroup>
					<FileUpload.Context>
						{({ acceptedFiles }) => 
							acceptedFiles.map((file, id) => (
								<FileUpload.Item key={id} file={file}>
									<FileUpload.ItemName />
									<FileUpload.ItemSizeText />
									<FileUpload.ItemDeleteTrigger asChild>
										<Button size="sm" variant="ghost">Remove</Button>
									</FileUpload.ItemDeleteTrigger>
								</FileUpload.Item>
							))
						}
					</FileUpload.Context>
				</FileUpload.ItemGroup>
				
				<FileUpload.HiddenInput />
			</FileUpload.Root>
			
			<div style={{ marginTop: "1rem" }}>
				<Button onClick={() => setFiles([])}>Clear All</Button>
			</div>
		</div>
	)
}
```

## API Reference

### Root Props
- `accept`: `string` - Allowed file types (MIME types or extensions)
- `maxFiles`: `number` - Maximum number of files
- `maxFileSize`: `number` - Maximum file size in bytes
- `minFileSize`: `number` - Minimum file size in bytes
- `multiple`: `boolean` - Allow multiple file selection
- `disabled`: `boolean` - Disable file upload
- `onFilesChange`: `(files: File[]) => void` - File change handler

### Accessibility
- Full keyboard navigation support
- Screen reader announcements for upload state
- ARIA labels and descriptions
- Focus management for file operations
